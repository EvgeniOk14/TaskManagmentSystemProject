# Проект - TaskManagmentSystemProject

## Краткое описание проекта:

  TaskManagmentSystemProject — это приложение для управления задачами, с возможностями аутентификации и авторизации пользователей, распределения их ролей.
  Данный проект служит для облегчения и автоматизации работы с задачами, которые устанавливают руководители для выполнения их сотрудниками компаний.
  Все задачи (это класс Task) имеют определённую структуру, т.е. поля, такие как: название задачи; описание задачи; автор задачи; исполнитель задачи; статус задачи; приоритет задачи и комментарии.
  Любой пользователь может оставлять свои комментарии под задачами, затем просматривать их, редактировать и удалять.
  Также у пользователей есть возможность получения информации по заданному фильтру, т.е. обеспечена фильтрация и пагинация вывода.
  Все пользователи разделены на роли: администраторы "ADMIN-ROLE" и пользователи "USER-ROLE".
  В соответствие с ролями, пользователям предоставляется доступ к разрешённым для их группы методам, которые становятся доступными у них после аутентификации.

## Проект поддерживает следующие функции:

- **Аутентификация и авторизация** через JWT.
- **Управление задачами** с различными уровнями доступа.
- **Добавление и отображение комментариев** для каждой задачи.
- **Документирование API** с помощью Swagger.
- **Использование разных баз данных** (PostgreSQL для основной информации и MongoDB для других данных).

## Стек технологий

- **Java 21** — основной язык программирования.
- **Spring Boot** (версия 3.3.5) — фреймворк для создания приложения.
- **Maven** — система сборки и управления зависимостями.
- **PostgreSQL** — база данных для хранения данных.
- **Spring Security** — для аутентификации и авторизации пользователей.
- **JWT** — для работы с JSON Web Tokens.
- **MapStruct** — для маппинга сущностей в DTO.
- **Swagger** — для документирования API.
- **MongoDB** — дополнительная база данных для хранения данных.
- **Swagger** — для документирования API.

## Системные требования

- **Java 21**
- **Maven 4.0.0**
- **Spring Boot 3.3.5**

## Cписок путей всех контроллеров приложения (Конечные точки(endPoints)):
    localhost:8080/auth/login   - Аутентифицирует пользователя и возвращает JWT токен.
    localhost:8080/authz/checkAccess - Проверяет права доступа пользователя, основываясь на его JWT токене.
    localhost:8080/api/comments/{taskId}/createComment - Создает новый комментарий для задачи с указанным идентификатором.
    localhost:8080/api/comments/{taskId}/getAllComments - Получает все комментарии для задачи с указанным идентификатором.
    localhost:8080/api/comments/{commentId}/updateCommentById - Обновляет комментарий с указанным идентификатором.
    localhost:8080/api/comments/{commentId}/delete - Удаляет комментарий с указанным идентификатором.
    localhost:8080/api/comments/{commentId}/getComment - Получает комментарий с указанным идентификатором.
    localhost:8080/api/tasks/create - Создает новую задачу.
    localhost:8080/api/tasks/getTask/{id} - Получает задачу по её идентификатору.
    localhost:8080/api/tasks/update/{id} - Обновляет задачу по её идентификатору.
    localhost:8080/api/tasks/delete/{id} - Удаляет задачу по её идентификатору.
    localhost:8080/api/tasks/pagination - Получает список задач с фильтрацией и пагинацией.
    localhost:8080/api/tasks/my-tasks - Получает задачи текущего пользователя в зависимости от его роли (автор или исполнитель).
    localhost:8080/api/tasks/my-tasks/author-and-executor - Получает задачи, где текущий пользователь является и автором, и исполнителем.
    localhost:8080/api/tasks/{id}/setStatus - Устанавливает статус задачи.
    localhost:8080/api/tasks/{id}/setPriority - Устанавливает приоритет задачи.
    localhost:8080/api/tasks/{executorId}/{taskId}/setExecutorToTask - Назначает исполнителя задаче.
    localhost:8080/api/tasks/{authorId}/{taskId}/setAuthorToTask - Назначает автора задаче.
    localhost:8080/api/users/createUser - Создает нового пользователя в системе.
    localhost:8080/api/users/{id} - Получает информацию о пользователе по его идентификатору.
    localhost:8080/api/users/updateUser/{id} - Обновляет информацию о пользователе по его идентификатору

## Установка и запуск с использованием Docker

Для упрощения развертывания проекта мы используем **Docker** и **Docker Compose**.
Этот подход позволяет изолировать все компоненты приложения и базы данных в контейнерах, 
обеспечивая легкость в развертывании и переносимости приложения.

### Шаг 1: Подготовка Docker-образов

### Шаг 1: Сборка JAR-файла
   комманда: mvn clean package
### Шаг 2: Сборка и запуск с использованием Docker Compose
   команда: docker-compose up --build
   Эта команда произведёт:
 1.Сборку образов с использованием Dockerfile.
 2.Запуск контейнеров для вашего приложения, PostgreSQL и MongoDB.
 

## Доступ к приложению:
После выполнения команды (docker-compose up --build) приложение будет доступно по адресу:
http://localhost:8080 — веб-интерфейс приложения.
http://localhost:8080/swagger-ui/index.html — Swagger UI для тестирования API.
http://localhost:8080/v3/api-docs <--- доступ к документации в браузере




